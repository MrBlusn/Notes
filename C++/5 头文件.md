一般情况下，头文件 .h ==只负责声明==，源文件 .cpp 负责实现。

头文件主要用于**声明**（declarations），包括：

- 类（class）的声明

- 函数（functions）的原型（prototypes）

- 模板（templates）的声明

- 宏定义（#define）

- 外部变量（extern variables）的声明

- 内联函数（inline functions）

报错案例：
在链接`main.cpp.obj`时发现`global_age`==重定义==，第一次定义在`global.h`这里。
同样链接`mian.cpp.obj`时发现global_name==重定义==，第一次定义在`global.h`。
因为`global.h`中定义了`global_age`，根据我们之前学习的预编译知识，只要是包含`global.h`的文件都会==展开==`global.h`，`main.cpp`==展开==了一次，`global.cpp`展开了一次


C/C++ 中，如果同一个头文件被 `#include` 多次，可能会导致：
- 重复定义（redefinition）错误
- 编译时间变长

宏保护（也叫**头文件保护符**、**include guard**）是一种**防止头文件被重复包含**的预处理技巧。


```c
#ifndef MY_HEADER_H
#define MY_HEADER_H

// 头文件内容放这里

#endif // MY_HEADER_H
```
### 工作流程：

1. 第一次 `#include "my_header.h"` 时：
    
    - `MY_HEADER_H` 未定义 → 进入 `#ifndef` 块 → 定义宏 → 包含内容
        
2. 以后再 `#include` 同一个文件：
    
    - `MY_HEADER_H` 已定义 → 跳过整个内容 → 不会重复包含



### C++11 起的更现代写法（推荐）：
不需要生成唯一的宏名，减少了出错的可能性。
```cpp
#pragma once
```
**宏保护就是防止头文件被重复包含的“门禁系统”**，传统用 `#ifndef`，现代用 `#pragma once`。







